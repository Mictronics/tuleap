(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vue3-gettext")):typeof define=="function"&&define.amd?define(["exports","vue","vue3-gettext"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.TuleapTrackerColorPicker={},s.vue,s.vue3Gettext))})(this,function(s,e,d){"use strict";const h=(o,r,t)=>{const n=o[r];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((l,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+r+(r.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},C=[["inca-silver","chrome-silver","firemist-silver"],["red-wine","fiesta-red","coral-pink"],["teddy-brown","clockwork-orange","graffiti-yellow"],["army-green","neon-green","acid-green"],["sherwood-green","ocean-turquoise","surf-green"],["deep-blue","lake-placid-blue","daphne-blue"],["plum-crazy","ultra-violet","lilac-purple"],["panther-pink","peggy-pink","flamingo-pink"]],y={class:"colorpicker-row"},B=["title","onClick"],w=e.defineComponent({__name:"ColorPickerPaletteRow",props:{colors:{},selected_color:{}},emits:["color-update"],setup(o,{emit:r}){const t=o,n=r;function l(c){n("color-update",c)}function i(c){return t.selected_color===c}return(c,u)=>(e.openBlock(),e.createElementBlock("div",y,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.colors,a=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["colorpicker-circular-color",["colorpicker-circular-color-"+a,{"fa fa-check":i(a)}]]),key:a,title:a,onClick:J=>l(a)},null,10,B))),128))]))}}),P=["title"],b={class:"colorpicker-row-no-color-label"},E=e.defineComponent({__name:"ColorPickerNoColorOption",props:{selected_color:{}},emits:["color-update"],setup(o,{emit:r}){const t=o,{$gettext:n}=d.useGettext(),l=e.computed(()=>t.selected_color===""),i=r;function c(){i("color-update","")}return(u,a)=>(e.openBlock(),e.createElementBlock("div",{class:"colorpicker-row-no-color",onClick:c},[e.createElementVNode("span",{class:e.normalizeClass(["colorpicker-circular-color colorpicker-circular-no-color",{"colorpicker-no-color-selected fa fa-check":l.value}]),title:e.unref(n)("No color")},null,10,P),e.createElementVNode("span",b,e.toDisplayString(e.unref(n)("No color")),1)]))}}),$={class:"colorpicker-palette"},T=e.defineComponent({__name:"ColorPickerPalette",props:{current_color:{}},emits:["color-update"],setup(o,{emit:r}){const t=r;function n(l){t("color-update",l)}return(l,i)=>(e.openBlock(),e.createElementBlock("div",$,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(C),(c,u)=>(e.openBlock(),e.createBlock(w,{colors:c,selected_color:l.current_color,key:u,onColorUpdate:n},null,8,["colors","selected_color"]))),128)),e.createVNode(E,{selected_color:l.current_color,onColorUpdate:n},null,8,["selected_color"])]))}}),N=["title"],F=["title"],V="/themes/FlamingParrot/images/ic/layer-transparent.png",x=e.defineComponent({__name:"ColorPickerPreview",props:{color:{},is_unsupported_color:{type:Boolean}},setup(o){const r=o,t=e.computed(()=>r.color.includes("#")),n=e.computed(()=>r.color.length===0);return(l,i)=>l.is_unsupported_color&&t.value?(e.openBlock(),e.createElementBlock("i",{key:0,title:l.$gettext("This color is no longer supported, please select another one"),class:"fa-solid fa-triangle-exclamation text-error"},null,8,N)):n.value?(e.openBlock(),e.createElementBlock("img",{key:1,class:"old-color-picker-preview",src:V})):(e.openBlock(),e.createElementBlock("span",{key:2,class:e.normalizeClass(["color-picker-preview","colorpicker-preview-"+l.color]),title:l.color},null,10,F))}}),j={class:"dropdown tracker-colorpicker"},z={class:"dropdown-toggle","data-toggle":"dropdown"},U={class:"dropdown-menu",role:"menu"},L=["id","name","value"],M=e.defineComponent({__name:"ColorPicker",props:{input_name:{},input_id:{},current_color:{},is_unsupported_color:{type:Boolean}},setup(o){const r=o,t=e.ref(r.current_color);function n(l=""){t.value=l}return(l,i)=>(e.openBlock(),e.createElementBlock("div",j,[e.createElementVNode("a",z,[e.createVNode(x,{color:t.value,is_unsupported_color:l.is_unsupported_color},null,8,["color","is_unsupported_color"])]),e.createElementVNode("div",U,[e.createVNode(T,{onColorUpdate:n,current_color:t.value},null,8,["current_color"])]),e.createElementVNode("input",{class:"colorpicker-input",id:l.input_id,name:l.input_name,value:t.value,type:"hidden",size:"6",autocomplete:"off"},null,8,L)]))}}),O="en_US",_=O,R=/[a-z]{2,3}_[A-Z]{2,3}/,m=o=>R.test(o??""),S=o=>{const r=o.body.dataset.userLocale;return m(r)?r:_};function q(o){if(!m(o))throw Error(`${o} does not not seem to be a locale string`);return o}const A=(o,r)=>o===_?Promise.resolve({}):r(o).then(t=>{const n={};return n[o]=D(t),n},()=>({}));async function I(o,r){const t=S(document);return o({defaultLanguage:t,translations:await A(t,r),silent:!0})}function D(o){const r={};for(const[,t]of Object.entries(o.translations[""]))t.msgstr.every(n=>n.length!==0)&&(r[t.msgid]=t.msgstr);return r}const p=(o,r)=>{const t=o.getAttribute(r);if(t===null)throw Error(`Missing attribute ${r}`);return t};async function G(o){const r=await I(d.createGettext,n=>h(Object.assign({"../po/fr_FR.po":()=>Promise.resolve().then(()=>H)}),`../po/${q(n)}.po`,3)),t=e.createApp(M,{input_name:p(o,"data-input-name"),input_id:p(o,"data-input-id"),current_color:p(o,"data-current-color"),is_unsupported_color:!!p(o,"data-is-unsupported-color")});t.use(r),t.mount(o)}var f="utf-8",k={"Project-Id-Version":"",Language:"fr","Content-Type":"text/plain; charset=UTF-8","Content-Transfer-Encoding":"8bit","Plural-Forms":"nplurals=2; plural=(n > 1);"},g={"":{"":{msgid:"",msgstr:[`Project-Id-Version: 
Language: fr
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Plural-Forms: nplurals=2; plural=(n > 1);
`]},"No color":{msgid:"No color",msgstr:["Pas de couleur"]},"This color is no longer supported, please select another one":{msgid:"This color is no longer supported, please select another one",msgstr:["Cette couleur n'est plus supportée, veuillez en sélectionner une autre"]}}};const H=Object.freeze(Object.defineProperty({__proto__:null,charset:f,default:{charset:f,headers:k,translations:g},headers:k,translations:g},Symbol.toStringTag,{value:"Module"}));s.createColorPicker=G,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
